<!--pages/explore/tools/dict/index.wxml-->
<header classTitle="center" classColor="true" isBack="true" backgroundColor="#f4f4f5">间隔</header>
<view class="mode" style="padding-top: {{tabbarRealHeight + 'px'}}; max-height: calc(100vh - {{tabbarRealHeight  + 'px'}}); overflow-y: auto;">
  <view class="modetitle">
    <view class="top">日期间隔</view>
    <view class="bottom">计算两个日期之间的间隔天数</view>
  </view>

  <view class="date-card">
    <view class="date-row">
      <view class="date-label">开始日期</view>
      <picker mode="date" value="{{startDate}}" bindchange="onStartDateChange">
        <view class="date-picker {{startDate ? '' : 'placeholder'}}">
          {{startDate || '请选择开始日期'}}
        </view>
      </picker>
    </view>
    <view class="date-row">
      <view class="date-label">结束日期</view>
      <picker mode="date" value="{{endDate}}" bindchange="onEndDateChange">
        <view class="date-picker {{endDate ? '' : 'placeholder'}}">
          {{endDate || '请选择结束日期'}}
        </view>
      </picker>
    </view>
  </view>

  <view class="result-card" wx:if="{{daysDiff !== null}}">
    <view class="result-title">计算结果</view>
    <view class="result-content">
      <view class="result-number">{{daysDiff}}</view>
      <view class="result-unit">天</view>
    </view>
    <view class="result-detail">
      <text>从 {{startDate}} 至 {{endDate}}</text>
      <text>共计 {{daysDiff}} 天</text>
    </view>
  </view>
  <view class="modetitle" style="margin-top: 50rpx;">
    <view class="top">时间间隔</view>
    <view class="bottom">计算两个时间之间的间隔小时和分钟</view>
  </view>
  <view class="time-card">
    <view class="time-row">
      <view class="time-label">开始时间</view>
      <picker mode="time" value="{{startTime}}" bindchange="onStartTimeChange">
        <view class="time-picker {{startTime ? '' : 'placeholder'}}">
          {{startTime || '请选择开始时间'}}
        </view>
      </picker>
    </view>
    <view class="time-row">
      <view class="time-label">结束时间</view>
      <picker mode="time" value="{{endTime}}" bindchange="onEndTimeChange">
        <view class="time-picker {{endTime ? '' : 'placeholder'}}">
          {{endTime || '请选择结束时间'}}
        </view>
      </picker>
    </view>
  </view>

  <view class="time-result-card" wx:if="{{timeResult}}">
    <view class="result-title">计算结果</view>
    <view class="result-content">
      <block wx:if="{{timeResult.hours > 0}}">
        <view class="time-result-item">
          <text class="result-number">{{timeResult.hours}}</text>
          <text class="result-unit">小时</text>
        </view>
      </block>
      <block wx:if="{{timeResult.minutes > 0}}">
        <view class="time-result-item">
          <text class="result-number">{{timeResult.minutes}}</text>
          <text class="result-unit">分钟</text>
        </view>
      </block>
    </view>
    <view class="result-detail">
      <text>从 {{startTime}} 至 {{endTime}}</text>
      <text wx:if="{{timeResult.crossMidnight}}">跨越午夜</text>
    </view>
  </view>
</view>
