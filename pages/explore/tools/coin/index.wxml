<!--pages/explore/tools/dict/index.wxml-->
<header classTitle="center" classColor="true" isBack="true" backgroundColor="#f4f4f5">硬币</header>

<view class="mode" style="padding-top: {{tabbarRealHeight + 20 + 'px'}}; max-height: calc(100vh - {{tabbarRealHeight  + 'px'}}); overflow-y: auto;">
  <view class="modetitle" style="margin-top: 0;">
    <view class="title-wrapper">
      <view>
        <view class="top">硬币翻转</view>
        <view class="bottom">点击硬币开始翻转</view>
      </view>
      <view class="clear-btn" bindtap="resetStats">重置</view>
    </view>
  </view>

  <view class="coin-container">
    <view class="coin {{isFlipping ? 'flipping' : ''}}" bindtap="startFlip" style="transform: rotateY({{rotateY}}deg)">
      <view class="coin-side front">
        <image src="{{images.positive}}" mode="aspectFit"></image>
      </view>
      <view class="coin-side back">
        <image src="{{images.reverse}}" mode="aspectFit"></image>
      </view>
    </view>
  </view>

  <block wx:if="{{stats.total > 0}}">
    <view class="result-card">
      <view class="result-title">统计结果</view>
      <view class="result-content">
        <view class="result-item">
          <text class="label">正面：</text>
          <text class="value">{{stats.positive}}次 ({{stats.positive / stats.total * 100}}%)</text>
        </view>
        <view class="result-item">
          <text class="label">反面：</text>
          <text class="value">{{stats.reverse}}次 ({{stats.reverse / stats.total * 100}}%)</text>
        </view>
        <view class="result-item">
          <text class="label">总计：</text>
          <text class="value">{{stats.total}}次</text>
        </view>
      </view>
    </view>
  </block>
</view>
